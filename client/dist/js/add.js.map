{"version":3,"sources":["add.jsx"],"names":[],"mappings":"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","file":"add.js","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport {insert} from './db.js';\nimport {co} from 'co';\n\nclass Add extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            _cls: 'display',\n            _nameCls: 'empty',\n            _hrefCls: 'empty',\n            _chapterCls: 'empty',\n            _imgCls: 'empty'\n        }\n    }\n    show() {\n        this.setState({\n            _cls: 'display'\n        });\n    }\n    hidden() {\n        this.setState({\n            _cls: 'hidden'\n        });\n    }\n    insert() {\n        let _name = this.refs['input_name'].value,\n            _href = this.refs['input_href'].value,\n            _chapter = this.refs['input_chapter'].value,\n            _img = this.refs['input_img'].value,\n            {getAll} = this.props;\n        co(function* () {\n            yield insert({\n                'name': _name,\n                'href': _href,\n                'img': _img,\n                'id': new Date().getTime()\n            });\n            getAll();\n            this.hidden();\n        }.bind(this))\n    }\n    handleChange(ref) {\n        if (this.refs[ref].value.length != 0) {\n            this.setState({\n                ['_'+ref+'Cls']: 'fill'\n            });\n        } else {\n            this.setState({\n                ['_'+ref+'Cls']: 'empty'\n            });\n        }\n    }\n    render() {\n        let {_cls, _nameCls, _hrefCls, _chapterCls, _imgCls} = this.state;\n        return (\n            <div className={'add ' + _cls}>\n                <div className='all_input'>\n                    <div className='name-wrap'>\n                        <input ref='name' onChange={() => { this.handleChange('name') } } id='name' className={'name '+_nameCls} type=\"text\" />\n                        <label htmlFor=\"name\"><span>名字</span></label>\n                    </div>\n                    <div className='href-wrap'>\n                        <input ref='href' onChange={() => { this.handleChange('href') } } id='href'  className={'href '+_hrefCls} type=\"text\" />\n                        <label htmlFor=\"href\"><span>连接</span></label>\n                    </div>\n                    <div className='chapter-wrap'>\n                        <input ref='chapter' onChange={() => { this.handleChange('chapter') } } id='chapter'  className={'chapter '+_chapterCls} type=\"text\" />\n                        <label htmlFor=\"chapter\"><span>章节</span></label>\n                    </div>\n                    <div className='img-wrap'>\n                        <input ref='img' onChange={() => { this.handleChange('img') } } id='img'  className={'img '+_imgCls} type=\"text\" />\n                        <label htmlFor=\"img\"><span>图片</span></label>\n                    </div>\n                </div>\n                <p className='save-btn' onClick={() => { this.insert() } }>一发入魂</p>\n            </div>\n        );\n    }\n}\n\nAdd.propTypes = {\n\n};\n\nexport default Add;"],"sourceRoot":"/source/"}